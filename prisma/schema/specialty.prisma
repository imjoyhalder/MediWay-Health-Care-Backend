model Specialty {
    id String @id @default(uuid())

    title       String  @unique @db.VarChar(100)
    description String? @db.Text
    icon        String? @db.VarChar(255)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    isDeleted         Boolean           @default(false)
    deletedAt         DateTime?
    doctorSpecialties DoctorSpecialty[]

    @@index([isDeleted], name: "idx_specialty_is_deleted")
    @@index([title], name: "idx_specialty_title")
    @@map("specialties")
}

model DoctorSpecialty {
    id String @id @default(uuid())

    doctorId    String
    specialtyId String

    doctor    Doctor    @relation(fields: [doctorId], references: [id], onDelete: Cascade, onUpdate: Cascade)
    specialty Specialty @relation(fields: [specialtyId], references: [id], onDelete: Cascade, onUpdate: Cascade)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@unique([doctorId, specialtyId])
    @@index([doctorId], name: "idx_doctor_specialty_doctor_id")
    @@index([specialtyId], name: "idx_doctor_specialty_specialty_id")
    @@map("doctor_specialties")
}
